<h2 mat-dialog-title>Create an appointment</h2>
<form #appForm="ngForm">


    <div class="flex flex-wrap">

      <mat-form-field class="w-full px-1.5">
        <mat-label>Name</mat-label>
        <input name="name" matInput [(ngModel)]="appointment.name" required>
      </mat-form-field>

      <mat-form-field class="w-2/3 px-1.5">
        <mat-label>Recurrencies</mat-label>
        <mat-select [(ngModel)]="appointment.recurrency" name="recurrency" required>
          <mat-option *ngFor="let r of RecurrenciesMapping | keyvalue"
                      [value]="r.key">{{r.value}}</mat-option>


        </mat-select>
      </mat-form-field>

      <mat-form-field class="w-1/3 px-1.5" *ngIf="appointment.recurrency==RecurrencyEnum.PERSONALIZED">
        <mat-label>Days</mat-label>
        <input name="name" matInput [(ngModel)]="appointment.recurrencyPersonalized" required>
      </mat-form-field>


      <mat-form-field class="w-2/3 px-1.5">
        <mat-label>Enter a date range</mat-label>
        <mat-date-range-input [rangePicker]="picker" required>
          <input name="startDate" matStartDate placeholder="Start date" [(ngModel)]="appointment.startDate" required >
          <input name="stopDate" matEndDate placeholder="End date" [(ngModel)]="appointment.stopDate" required>
        </mat-date-range-input>
        <mat-hint>DD/MM//YYYY â€“ DD/MM/YYYY</mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-date-range-picker #picker></mat-date-range-picker>
      </mat-form-field>

      <mat-form-field class="w-1/3 px-1.5">
        <mat-label>Time</mat-label>
        <input name="time" matInput [(ngModel)]="appointment.time" pattern="([01]?[0-9]|2[0-3]):[0-5][0-9]" required>
      </mat-form-field>

      <mat-form-field class="w-full px-1.5">
        <mat-label>Description</mat-label>
        <textarea name="description" matInput [(ngModel)]="appointment.description"></textarea>
      </mat-form-field>


    </div>



    <a  routerLink="/appointment"  mat-raised-button color="warn" >Voltar</a>

    <button mat-raised-button color="primary" (click)="save(appointment)" >Salvar</button>

</form>
